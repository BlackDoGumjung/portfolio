<html>

<head>
  <meta charset="utf-8">
  <title></title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- <link rel="shortcut icon" href="images/favicon.png"> -->
  <link rel="stylesheet" href="css/reset.css" type="text/css">
  <link rel="stylesheet" href="css/common.css" type="text/css">
  <link rel="stylesheet" href="css/main.css" type="text/css">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.4/css/all.css" integrity="sha384-DyZ88mC6Up2uqS4h/KRgHuoeGwBcD4Ng9SiP4dIRy0EXTlnuz47vAwmeGwVChigm" crossorigin="anonymous">
  <link href="https://fonts.googleapis.com/css2?family=Nanum+Gothic&display=swap" rel="stylesheet">
	<script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
	<script src="//cdn.jsdelivr.net/npm/sweetalert2@10"></script>
  <script src="js/main.js"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
  <script type="text/javascript">
    (function() {
        emailjs.init('lda8ZcI7IXRUFgOYY');
    })();
  </script>
</head>
<body>
  <nav>
    <ul>
      <li><a href="index.html"><i class="fas fa-home"></i><span class="blind">home</span></a></li>
      <li><a href="work.html"><i class="fas fa-wrench"></i><span class="blind">work report</span></a></li>
      <li><a href="about.html"><i class="fas fa-bell"></i><span class="blind">about me</span></a></li>
      <li><a href="contact.html"><i class="fas fa-envelope"></i><span class="blind">contact me</span></a></li>
      <li><img src="images/profile_04.jpg"><span class="blind">hj choi</span></li>
    </ul>
  </nav>
  <section class="title">
    <div class="menu_toggle">
      <i class="menu_open fa fa-bars fa-lg"></i>
      <i class="menu_close fa fa-times fa-lg"></i>
    </div>
    <ul class="menu_items">
      <li><a href="index.html"><i class="icon fas fa-laptop-house fa-2x"></i> INDEX</a></li>
      <li><a href="work.html"><i class="icon far fa-folder-open fa-2x"></i> WORK</a></li>
      <li><a href="about.html"><i class="icon fas fa-id-card fa-2x"></i> ABOUT ME</a></li>
      <li><a href="contact.html"><i class="icon fab fa-rocketchat fa-2x"></i> CONTACT</a></li><!--
      --><li><a href="http://github.com/BlackDoGumjung" target="_blank"><i class="fab fa-github"></i><span class="blind">GitHub</a></li><!--
      --><li><a href="http://codenamegumjung.com" target="_blank"><i class="fab fa-wordpress"></i><span class="blind">WordPress</a></li>  
    </ul>
    <div class="contact">
      <div class="contact_inner">
         <form id="contact-form">
          <h2>Contact</h2>
          <div class="input-cover">
            <label for="from_name">Your Name</label>
            <input type="text" id="from_name" placeholder="Enter to name">
          </div>
          <div class="input-cover">
            <label for="email_id">Your Email<label>
            <input type="email" id="email_id" placeholder="email@example.com">
          </div>
          <div class="input-cover">
            <label for="message">Message</label>
            <textarea id="message" placeholder="Leave a Message"></textarea>
          </div>
          <div class="check">
            <button id="submit" class="sending">send</button>
          </div>
         </form>
      </div>
    </div>
  </section>

  <script>


function validate(){
  let from_name = document.getElementById("from_name");
  let email_id = document.getElementById("email_id");
  let message = document.getElementById("message");
  let btn = document.getElementById("submit");
        
  btn.addEventListener("click", (e)=>{
    e.preventDefault();
    if (from_name.value == "" || email_id.value == "" || message.value == "") {
        emptyerror();
      } else {
        SendMail(from_name.value, email_id.value, message.value);
        success();
      }
  });
}
  validate();
  
  
  function SendMail(from_name, email_id, message){
    emailjs.send("gumjung", "template_87anq27", {
      from_name : from_name,
      email_id : email_id,
      message : message,
    });
  }

  function emptyerror() { // 공란일 때
    Swal.fire({
      icon: "error",
      title: "Oops...",
      text: "Fields cannot be empty!",
    });
  }

  function error() { // 에러 상태
    Swal.fire({
      icon: "error",
      title: "Oops...",
      text: "Something went wrong!",
    });
  }

  function success() { // 전송 성공
    Swal.fire({
      icon: "success",
      title: "Success...",
      text: "Successfully sent message",
    });
  }
</script>

</body>

</html>